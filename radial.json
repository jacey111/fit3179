{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": null,
    "width": 250,
    "height": 250,
    "data": {
        "url": "https://raw.githubusercontent.com/jacey111/fit3179/refs/heads/main/dealing-with-anxiety-depression-approaches.csv", 
        "format": {"type": "csv"}
    },
    "transform": [
        {
            "calculate": "format(datum.Percentage, '.2f') + '% of respondents'", 
            "as": "RespondentsPercentage"
        }
    ],
    "mark": {"type": "arc", "outerRadius": 120, "stroke": "#fff"},
    "encoding": {
        "theta": {"field": "Percentage", "type": "quantitative"},
        "radius": {"field": "Percentage", "scale": {"type": "sqrt", "zero": true, "rangeMin": 20}},
        "color": {
            "field": "Approach",
            "type": "nominal",
            "scale": {
                "range": ["#a64444", "#f19c38", "#5c7a8a", "#9a6fae", "#7389c1", "#b8753d", "#6fb6b6", "#4b3061"]
            },
            "legend": {
                "title": "Approach",
                "labelLimit": 0,
                "orient": "right",
                "direction": "vertical",
                "columnPadding": 10
            }
        },
        "tooltip": [
            {"field": "Approach", "type": "nominal", "title": "Approach"},
            {"field": "RespondentsPercentage", "type": "nominal", "title": "Used By"}
        ]
    },
    "view": {"stroke": null}
}
